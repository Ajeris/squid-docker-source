# Minimal Squid Configuration (No SSL Bump)
# Basic HTTP proxy only with LDAP/Kerberos auth support

# HTTP port (no SSL bump)
http_port 3128

# Network ACLs
acl localnet src 10.0.0.0/8
acl localnet src 172.16.0.0/12  
acl localnet src 192.168.0.0/16
acl localnet src fc00::/7
acl localnet src fe80::/10

acl SSL_ports port 443
acl Safe_ports port 80
acl Safe_ports port 21
acl Safe_ports port 443
acl Safe_ports port 70
acl Safe_ports port 210
acl Safe_ports port 1025-65535
acl Safe_ports port 280
acl Safe_ports port 488
acl Safe_ports port 591
acl Safe_ports port 777
acl CONNECT method CONNECT

# Security rules
http_access deny !Safe_ports
http_access deny CONNECT !SSL_ports
http_access allow localhost manager
http_access deny manager

# Basic access
http_access allow localnet
http_access allow localhost
http_access deny all

# Cache and logging
cache_dir ufs /var/cache/squid 100 16 256
coredump_dir /var/cache/squid

# Basic settings
cache_effective_user proxy
cache_effective_group proxy
pid_filename /var/run/squid/squid.pid

# Logging
access_log /var/log/squid/access.log squid
cache_log /var/log/squid/cache.log
